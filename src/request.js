import axios from 'axios'import { getLocalJSON } from 'common/utils/local'const httpRequest = (parma) =>{    let ajaxObj = {        headers:{            'Content-Type': parma.contentType ||'application/json',            token: getLocalJSON('token'),            language:getLocalJSON('lang').LANG,            devType: "40",            platform: "10",            appType:parma.appType||"0",            devNo:"0",            channelType: parma.channelType||"0"        },        method:parma.method,        url:parma.url.indexOf('//')<0?`${BASE_URL}${parma.url}`:parma.url    };    if(parma.method==='get' && parma){        ajaxObj.params={            ...parma.data        }    }else if(parma.method==='post' && parma){        ajaxObj.data={            ...parma.data        }        if(ajaxObj.headers['Content-Type'] === "application/x-www-form-urlencoded"){            ajaxObj.transformRequest=[(da)=>{                let ret = ''                for (let it in da) {                    ret += encodeURIComponent(it) + '=' + encodeURIComponent(da[it]) + '&'                }                return ret            }]        }    }    return new Promise(function(resolve,reject){        axios(ajaxObj).then(function(res){            if(res.status===200){                resolve(res.data)            }else{                reject(res.msg)            }        },function(e){            reject(e)        })    })};export default httpRequest;